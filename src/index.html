<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Dapp Asset Management</title>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  
    <!-- Popper JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    
    <!-- Latest compiled and minified CSS -->
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />

    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <!-- Application -->
    <link href="css/app.css" rel="stylesheet" />
  </head>

  <body>
    <nav class="navbar navbar-light bg-light py-3">
      <div class="row vw-100 justify-content-between">
        <div class="col-auto">
          <div class="row align-items-center">
            <div class="col-auto">
              <img
                src="images/cryptocurrency.png"
                width="30"
                height="30"
                class="d-inline-block align-top"
                alt=""
              />
            </div>
            <div class="col-auto pl-0">
              <h4 class="m-0">Dapp Asset Management</h3>
            </div>
          </div>
        </div>
        <div class="col-auto">
          <div class="row align-items-center">
            <div class="col-auto pr-0">
              <img src="images/dollar.png" class="rounded float-left" />
            </div>
            <div class="col-auto pl-0">
              <p id="accountBalance" class="welcome pull-left"></p>
            </div>
            <div class="col-auto pr-0">
              <img src="images/user.png" class="rounded float-left" />
            </div>
            <div class="col-auto pl-0">
              <p id="account" class="welcome pull-right"></p>
            </div>
          </div>
        </div>
      </div>
    </nav>

    <div class="container">
      <div class="row justify-content-between mt-5">
        <div class="col-auto">
          <h1>Market</h1>
        </div>
        <div class="col-auto">
          <button
            class="btn btn-info btn-lg pull-left btn-show-events"
            data-toggle="collapse"
            data-target="#events"
            aria-expanded="false"
            aria-controls="events"
          >
            Show Events
          </button>
          <button
            class="btn btn-info btn-lg pull-right"
            data-toggle="modal"
            data-target="#sellingModal"
          >
            Sell an Asset
          </button>
        </div>
      </div>

      <div class="row justify-content-end">
        <div class="col-6">
          <ul id="events" class="collapse list-group"></ul>
        </div>
      </div>

      <div class="row criteria border-bottom">
        <div class="col-1"></div>
        <div class="col-2">
          <strong>Name <i class="arrow down"></i></strong>
        </div>
        <div class="col-2">
          <strong>Serial-ID <i class="arrow down"></i></strong>
        </div>
        <div class="col-1">
          <strong>Value <i class="arrow down"></i></strong>
        </div>
        <div class="col-4">
          <strong>Sold by <i class="arrow down"></i></strong>
        </div>
        <div class="col-2">
          <strong>Actions <i class="arrow down"></i></strong>
        </div>
      </div>

      <div
        id="assetsRow"
        class="row align-items-start"
        style="min-height: 300px"
      >
        <!-- assetS TO SELL LOAD HERE -->
      </div>

      <div class="row justify-content-between my-3">
        <div class="col-auto">
          <h1>Your Assets</h1>
        </div>
        <div class="col-auto">
          <button
            class="btn btn-info btn-lg pull-right"
            data-toggle="modal"
            data-target="#createAsset"
          >
            Add new Asset
          </button>
        </div>
      </div>

      <div class="row criteria my-2 border-bottom">
        <div class="col-1"></div>
        <div class="col-2">
          <strong>Name: <i class="arrow down"></i></strong>
        </div>
        <div class="col-2">
          <strong>Serial-ID <i class="arrow down"></i></strong>
        </div>
        <div class="col-1">
          <strong>Value <i class="arrow down"></i></strong>
        </div>
        <div class="col-4">
          <strong>Owner<i class="arrow down"></i> </strong>
        </div>
        <div class="col-2">
          <strong>Actions <i class="arrow down"></i></strong>
        </div>
      </div>

      <div id="assetsRow2" class="row">
        <!-- OWN assetS LOAD HERE -->
      </div>

      <div id="assetTemplateSell" style="display: none">
        <div class="col-12">
          <div
            class="item-container row mx-0 align-items-center my-2 p-2 border"
          >
            <div class="col-1">
              <img src="images/anlagegut.png" alt="" />
            </div>
            <div class="col-2">
              <p class="asset-name-sell"></p>
            </div>
            <div class="col-2">
              <p class="asset-serialID-sell"></p>
            </div>
            <div class="col-1">
              <p class="asset-price-sell"></p>
            </div>
            <div class="col-3">
              <p class="asset-seller-sell"></p>
            </div>
            <div class="col-3">
              <div class="row">
                <div class="col-6">
                </div>
                <div class="col-6">
                  <button
                    type="button"
                    class="btn btn-primary btn-success btn-buy w-100 text-center"
                    onclick="App.buyAsset(event); return false;"
                  >
                    Buy
                  </button>
                  <button
                    type="button"
                    class="btn btn-danger btn-remove w-100 text-center"
                    onclick="App.removeAsset(event)"
                  >
                    Remove
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- added id / remove assets owned by the user -->
      <div id="assetTemplateCreate" style="display: none">
        <div class="col-12">
          <div
            class="item-container row mx-0 align-items-center my-2 p-2 border"
          >
            <div class="col-1">
              <img src="images/anlagegut.png" alt="" />
            </div>
            <div class="col-2">
              <p class="asset-name-create"></p>
            </div>
            <div class="col-2">
              <p class="asset-serialID-create"></p>
            </div>
            <div class="col-1">
              <p class="asset-price-create"></p>
            </div>
            <div class="col-3">
              <p class="asset-seller-create"></p>
            </div>
            <div class="col-3">
              <div class="row">
                <div class="col-6">
                </div>
                <div class="col-6">
                  <button
                    type="button"
                    class="btn btn-success btn-buy w-100"
                    onclick="App.sellOwnAsset(event); return false;"
                  >
                    Sell
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- modal form for creating an asset -->
      <div class="modal fade" id="createAsset" role="dialog">
        <div class="modal-dialog">
          <!-- Modal content for creating -->
          <div class="modal-content">
            <div class="modal-header">
              <h4 class="modal-title">Create your Asset</h4>
              <button type="button" class="close" data-dismiss="modal">
                &times;
              </button>
            </div>
            <div class="modal-body">
              <div class="row">
                <div class="col-lg-12">
                  <form>
                    <div class="form-group">
                      <label for="asset_name">Asset name</label>
                      <input
                      type="text"
                      class="form-control"
                      id="asset_name_create"
                      placeholder="Enter the name of your asset"
                      />
                    </div>
                    <div class="form-group">
                      <label for="price">Price in ETH</label>
                      <input
                      type="number"
                      class="form-control"
                      id="asset_price_create"
                      placeholder="1"
                      pattern="[0-9]+([\.,][0-9]+)?"
                      step="0.01"
                      />
                    </div>
                    <div class="form-group">
                      <label for="serialID"
                        >Serial Number Identification</label
                      >
                      <textarea
                        type="text"
                        class="form-control"
                        id="asset_serialID_create"
                        placeholder="Enter Identification Number"
                        maxlength="255"
                      ></textarea>
                    </div>
                  </form>
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <button
              type="button"
              class="btn btn-primary btn-success"
              data-dismiss="modal"
              onclick="App.createAsset(); return false;"
              >
              Submit
              </button>
              <button type="button" class="btn btn-danger" data-dismiss="modal">
                Cancel
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Modal form to sell an asset -->
      <div class="modal fade" id="sellingModal" role="dialog">
        <div class="modal-dialog">
          <!-- Modal content-->
          <div class="modal-content">
            <div class="modal-header">
              <h4 class="modal-title">Sell your asset</h4>
              <button type="button" class="close" data-dismiss="modal">
                &times;
              </button>
            </div>
            <div class="modal-body">
              <div class="row">
                <div class="col-lg-12">
                  <form>
                    <div class="form-group">
                      <label for="asset_name_sell">Asset name</label>
                      <input
                        type="text"
                        class="form-control"
                        id="asset_name_sell"
                        placeholder="Enter the name of your asset"
                      />
                    </div>
                    <div class="form-group">
                      <label for="price">Price in ETH</label>
                      <input
                        type="number"
                        class="form-control"
                        id="asset_price_sell"
                        placeholder="1"
                        pattern="[0-9]+([\.,][0-9]+)?"
                        step="0.01"
                      />
                    </div>
                    <div class="form-group">
                      <label for="serialID">Identification Number</label>
                      <textarea
                        type="number"
                        class="form-control"
                        id="asset_serialID_sell"
                        placeholder="Enter Identification Number"
                        maxlength="25"
                      ></textarea>
                    </div>
                  </form>
                </div>
              </div>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-primary btn-success"
                data-dismiss="modal"
                onclick="App.sellAsset(); return false;"
              >
                Sell
              </button>
              <button type="button" class="btn btn-danger" data-dismiss="modal">
                Cancel
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <!-- Popper JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="js/web3.min.js"></script>
    <script src="js/truffle-contract.js"></script>
    <script src="js/app.js"></script>
    <div
      id="sticky-footer"
      class="navbar fixed-bottom py-4 bg-dark text-white-50"
    >
      <div class="row vw-100 justify-content-center">
        <div class="col-auto">
          <small>Fabian Röckel & Leonard Kimmling &copy; Asset Management</small>
        </div>
      </div>
    </div>
  </body>
</html>
